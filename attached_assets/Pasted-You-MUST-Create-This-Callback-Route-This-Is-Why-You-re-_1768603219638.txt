You MUST Create This Callback Route (This Is Why You‚Äôre Getting 404)

Tell Replit:

‚ÄúCreate an API endpoint at /api/ringcentral/callback to handle the OAuth redirect and exchange the authorization code for tokens.‚Äù

‚úÖ Required backend logic (Node / Express example)
import fetch from "node-fetch";

app.get("/api/ringcentral/callback", async (req, res) => {
  const code = req.query.code;
  if (!code) {
    return res.status(400).send("Missing OAuth code");
  }

  const auth = Buffer.from(
    `${process.env.RINGCENTRAL_CLIENT_ID}:${process.env.RINGCENTRAL_CLIENT_SECRET}`
  ).toString("base64");

  const tokenRes = await fetch(
    `${process.env.RINGCENTRAL_BASE_URL}/restapi/oauth/token`,
    {
      method: "POST",
      headers: {
        "Authorization": `Basic ${auth}`,
        "Content-Type": "application/x-www-form-urlencoded",
      },
      body: new URLSearchParams({
        grant_type: "authorization_code",
        code,
        redirect_uri: process.env.RINGCENTRAL_REDIRECT_URI,
      }),
    }
  );

  const tokenData = await tokenRes.json();

  // SAVE THESE
  // tokenData.access_token
  // tokenData.refresh_token
  // tokenData.expires_in

  // Store in DB / KV / encrypted env
  await saveTokens(tokenData);

  res.send("RingCentral connected. You can close this window.");
});


üìå This endpoint MUST exist, or RingCentral will always show 404 after login.

3Ô∏è‚É£ OAuth ‚ÄúConnect RingCentral‚Äù Button (Frontend)

Tell Replit:

‚ÄúAdd a ‚ÄòConnect RingCentral‚Äô button in the chatbot admin that redirects to RingCentral OAuth authorize URL.‚Äù

const authUrl =
  "https://platform.ringcentral.com/restapi/oauth/authorize" +
  "?response_type=code" +
  "&client_id=" + process.env.RINGCENTRAL_CLIENT_ID +
  "&redirect_uri=" + encodeURIComponent(process.env.RINGCENTRAL_REDIRECT_URI);

window.location.href = authUrl;


This is the only time a human logs in.

4Ô∏è‚É£ Using RingCentral After OAuth (Fetching Calls)

Once access token exists, calls are fetched like this:

const res = await fetch(
  "https://platform.ringcentral.com/restapi/v1.0/account/~/call-log",
  {
    headers: {
      Authorization: `Bearer ${accessToken}`,
    },
  }
);

const data = await res.json();


You do NOT need:

read extensions

read call sessions

JWT scopes

multiple seats

Shared RingCentral account is fine.

5Ô∏è‚É£ ‚ÄúPopulate Phone Number‚Äù Button Logic (Important)

Tell Replit this rule:

‚ÄúWhen multiple calls exist, show a dropdown with caller number + timestamp. Selecting one populates the phone field.‚Äù

Logic:

Pull last 30‚Äì60 minutes of inbound calls

Filter direction === "Inbound"

Use from.phoneNumber

Display:

(602) 555-1234 ‚Äî 2 min ago


No concurrency issues even with 2 calls ‚Äî you just show both.